# 10 · 消费者项目模板（最小可运行）

> 将 SynapseDB 作为库使用的最小模板。将 tgz 安装到本项目后即可运行。

## package.json（示例）

```json
{
  "name": "synapsedb-consumer-demo",
  "type": "module",
  "scripts": {
    "dev": "tsx scripts/demo.mts",
    "db:stats": "synapsedb stats mydb.synapsedb",
    "db:compact": "synapsedb auto-compact mydb.synapsedb --mode=incremental --orders=SPO --min-merge=2 --hot-threshold=1 --max-primary=1 --auto-gc",
    "db:gc": "synapsedb gc mydb.synapsedb"
  },
  "dependencies": {
    "synapsedb": "file:../path/to/synapsedb-1.0.0.tgz",
    "tsx": "^4.20.0"
  }
}
```

## scripts/demo.mts

```ts
import { SynapseDB } from 'synapsedb';
const db = await SynapseDB.open('mydb.synapsedb', { enableLock: true });
db.addFact({ subject: 'Alice', predicate: 'KNOWS', object: 'Bob' });
await db.flush();
console.log(db.find({ predicate: 'KNOWS' }).all());
await db.close();
```

运行：`npm run dev`
