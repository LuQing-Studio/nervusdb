# 05 · 维护治理（compact/gc/repair）

## CLI 模式（推荐）

```bash
# 自检
synapsedb check demo.synapsedb --summary
synapsedb check demo.synapsedb --strict

# 自动合并（增量）+ 自动 GC（SPO、阈值=2，热度阈值=1，仅 Top1）
synapsedb auto-compact demo.synapsedb \
  --mode=incremental --orders=SPO --min-merge=2 \
  --hot-threshold=1 --max-primary=1 --auto-gc

# 页面级 GC
synapsedb gc demo.synapsedb

# 快速修复
synapsedb repair demo.synapsedb --fast
```

## 代码模式（可内嵌到服务）

> 也可直接 import 维护 API（详见源码 maintenance/\*）或封装子进程执行 CLI。
